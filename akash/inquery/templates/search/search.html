<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>InQuery</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

    <style>
        .input_width {
            width: 90vw;
        }
        @media only screen and (min-width: 1024px) {
            .input_width {
                width: 50vw;
            }
        }
    </style>
</head>

<body>

<div class="flex flex-col lg:flex-row items-center mt-5 mb-12 ml-6">
    <a class="text-5xl font-serif text-indigo-700 lg:mr-10 mb-6 lg:mb-0" href="{% url 'home' %}">  InQuery </a>

    <form action="/search/" method="get">
        <label for="search">
            <input class="input_width border-2 border-gray-300 rounded-full p-2 mr-3" type="text" name="search" value="{{ search }}"
                   id="search" required>
        </label>
        <div class="flex justify-center lg:flex-none lg:inline-block py-5">
            <button class="bg-indigo-500 hover:bg-indigo-600 p-2 px-8 rounded-md" type="submit"> Search</button>
        </div>


    </form>
</div>
{% if page_obj %}
    <div class="w-9/10 px-10 lg:w-3/5 lg:ml-60">
        {% for result in page_obj %}
            <div class="pb-8">
                <p class="lg:text-sm text-gray-500"><a href="{{ result.url }}"> {{ result.url }}</a></p>
                <p class="text-2xl lg:text-xl text-indigo-900 hover:underline"><a href="{{ result.url }}"> {{ result.title }} </a>
                </p>
                <p class="text-lg lg:text-base"> {{ result.description|truncatechars:300 }}</p>
            </div>
        {% endfor %}
    </div>
    <div class="flex justify-center mt-5 mb-10">
    <div class="border-2 rounded-lg w-2/3 md:w-1/3 text-center p-1">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a class="text-blue-500 hover:underline mr-3" href="?search={{ search }}&page=1"> 1 </a>
            <a class="text-blue-500 hover:underline mr-3"
               href="?search={{ search }}&page={{ page_obj.previous_page_number }}"> &laquo;  </a>
        {% endif %}

        <span class="mr-3 text-blue-500">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
        </span>

        {% if page_obj.has_next %}
            <a class="text-blue-500 hover:underline mr-3"
               href="?search={{ search }}&page={{ page_obj.next_page_number }}"> &raquo; </a>
            <a class="text-blue-500 hover:underline mr-3"
               href="?search={{ search }}&page={{ page_obj.paginator.num_pages }}"> {{ page_obj.paginator.num_pages }}</a>
        {% endif %}
    </span>
    </div>
</div>
{% else %}
    <p class="text-xl text-center"> Your search - <b>{{ search }}</b>  - did not match any documents. Please try different keywords. </p>
{% endif %}




</body>
</html>